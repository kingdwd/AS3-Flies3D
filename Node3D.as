package {	import flash.display.Sprite;	import flash.geom.Point;	import flash.geom.ColorTransform;		public class Node3D extends Sprite {		public var pos:Vector3D;		public var vel:Vector3D;		public var size:Point;		public var oldPos:Vector3D;				const MAX_Z = 400;				internal var invZ:Number = 1;				public function Node3D(tx:Number = 0, ty:Number = 0, tz:Number = 0) {			size = new Point(1, 1);			pos = new Vector3D(tx, ty, tz);			vel = new Vector3D(0, 0, 0);		}				public function setPosition(tx:Number = 0, ty:Number = 0, tz:Number = 0) {			pos.set(tx, ty, tz);		}				public function render() {			pos = Vector3D.add(pos, vel);						oldPos = pos.clone();						invZ = MAX_Z/(MAX_Z + pos.z);			/*			var ct:ColorTransform = transform.colorTransform;			ct.redMultiplier = ct.greenMultiplier = ct.blueMultiplier = invZ;			transform.colorTransform = ct;			*/			alpha = invZ;									if(stage && pos.z > -MAX_Z) {				var cx = stage.stageWidth/2;				var cy = stage.stageHeight/2;				x = (pos.x - cx) * invZ + cx;				y = (pos.y - cy) * invZ + cy;								scaleX = size.x * invZ;				scaleY = size.y * invZ;			}		}				public function update() {}			}}